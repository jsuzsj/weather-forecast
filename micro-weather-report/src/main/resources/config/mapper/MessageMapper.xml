<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.earthchen.spring.cloud.weather.mapper.MessageMapper">

  <resultMap id="DetailResultMap" type="com.earthchen.spring.cloud.weather.vo2.DetailMessage">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="m_messageId" jdbcType="BIGINT" property="messageid" />
    <result column="m_userType" jdbcType="VARCHAR" property="usertype" />
    <result column="m_messageType" jdbcType="CHAR" property="messagetype" />
    <result column="m_forwardMessageId" jdbcType="VARCHAR" property="forwardmessageid" />
    <result column="m_realForwardId" jdbcType="BIGINT" property="realforwardid" />
    <result column="m_thirdMessageId" jdbcType="VARCHAR" property="thirdmessageid" />
    <result column="m_appId" jdbcType="BIGINT" property="appid" />
    <result column="m_jdata" jdbcType="CHAR" property="jdata" />
    <result column="m_blockd" jdbcType="BIT" property="blockd" />
    <result column="m_isDelete" jdbcType="TINYINT" property="isdelete" />
    <result column="m_device" jdbcType="CHAR" property="device" />
    <result column="m_ipAddress" jdbcType="VARCHAR" property="ipaddress" />
    <result column="m_forwardCount" jdbcType="INTEGER" property="forwardcount" />
    <result column="m_commentCount" jdbcType="INTEGER" property="commentcount" />
    <result column="m_readCount" jdbcType="INTEGER" property="readcount" />
    <result column="m_praiseCount" jdbcType="INTEGER" property="praisecount" />
    <result column="m_createTime" jdbcType="TIMESTAMP" property="createtime" />
    <result column="m_updateTime" jdbcType="TIMESTAMP" property="updatetime" />
    <association property="user" javaType="com.earthchen.spring.cloud.weather.vo2.User">
      <id column="u_id" jdbcType="BIGINT" property="id" />
      <result column="u_nickname" jdbcType="VARCHAR" property="nickname" />
      <result column="u_mobileAreaId" jdbcType="INTEGER" property="mobileareaid" />
      <result column="u_mobile" jdbcType="VARCHAR" property="mobile" />
      <result column="u_sex" jdbcType="TINYINT" property="sex" />
      <result column="u_email" jdbcType="VARCHAR" property="email" />
      <result column="u_jdata" jdbcType="CHAR" property="jdata" />
      <result column="u_PIN" jdbcType="VARCHAR" property="pin" />
      <result column="u_createTime" jdbcType="TIMESTAMP" property="createtime" />
      <result column="u_updateTime" jdbcType="TIMESTAMP" property="updatetime" />
      <result column="u_type" jdbcType="CHAR" property="type" />
    </association>
  </resultMap>
  <resultMap id="BaseResultMap" type="com.earthchen.spring.cloud.weather.vo2.Message">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="messageId" jdbcType="BIGINT" property="messageid" />
    <result column="uid" jdbcType="BIGINT" property="uid" />
    <result column="userType" jdbcType="VARCHAR" property="usertype" />
    <result column="messageType" jdbcType="CHAR" property="messagetype" />
    <result column="forwardMessageId" jdbcType="VARCHAR" property="forwardmessageid" />
    <result column="realForwardId" jdbcType="BIGINT" property="realforwardid" />
    <result column="thirdMessageId" jdbcType="VARCHAR" property="thirdmessageid" />
    <result column="appId" jdbcType="BIGINT" property="appid" />
    <result column="jdata" jdbcType="CHAR" property="jdata" />
    <result column="blockd" jdbcType="BIT" property="blockd" />
    <result column="isDelete" jdbcType="TINYINT" property="isdelete" />
    <result column="device" jdbcType="CHAR" property="device" />
    <result column="ipAddress" jdbcType="VARCHAR" property="ipaddress" />
    <result column="forwardCount" jdbcType="INTEGER" property="forwardcount" />
    <result column="commentCount" jdbcType="INTEGER" property="commentcount" />
    <result column="readCount" jdbcType="INTEGER" property="readcount" />
    <result column="praiseCount" jdbcType="INTEGER" property="praisecount" />
    <result column="createTime" jdbcType="TIMESTAMP" property="createtime" />
    <result column="updateTime" jdbcType="TIMESTAMP" property="updatetime" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from message
    where messageId = #{messageid,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.earthchen.spring.cloud.weather.vo2.Message">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into message (messageId, uid, userType,
      messageType, forwardMessageId, realForwardId,
      thirdMessageId, appId, jdata,
      blockd, isDelete, device,
      ipAddress, forwardCount, commentCount,
      readCount, praiseCount, createTime,
      updateTime)
    values (#{messageid,jdbcType=BIGINT}, #{uid,jdbcType=BIGINT}, #{usertype,jdbcType=VARCHAR},
      #{messagetype,jdbcType=CHAR}, #{forwardmessageid,jdbcType=VARCHAR}, #{realforwardid,jdbcType=BIGINT},
      #{thirdmessageid,jdbcType=VARCHAR}, #{appid,jdbcType=BIGINT}, #{jdata,jdbcType=CHAR},
      #{blockd,jdbcType=BIT}, #{isdelete,jdbcType=TINYINT}, #{device,jdbcType=CHAR},
      #{ipaddress,jdbcType=VARCHAR}, #{forwardcount,jdbcType=INTEGER}, #{commentcount,jdbcType=INTEGER},
      #{readcount,jdbcType=INTEGER}, #{praisecount,jdbcType=INTEGER}, #{createtime,jdbcType=TIMESTAMP},
      #{updatetime,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertComment" parameterType="com.earthchen.spring.cloud.weather.vo2.Message">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into message (uid,
    messageType,
    thirdMessageId, jdata,forwardMessageId
    )
    values ( #{uid,jdbcType=BIGINT},
    #{messagetype,jdbcType=CHAR},
    #{thirdmessageid,jdbcType=VARCHAR}, #{jdata,jdbcType=CHAR}, #{forwardmessageid,jdbcType=CHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.earthchen.spring.cloud.weather.vo2.Message">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update message
    set uid = #{uid,jdbcType=BIGINT},
      userType = #{usertype,jdbcType=VARCHAR},
      messageType = #{messagetype,jdbcType=CHAR},
      forwardMessageId = #{forwardmessageid,jdbcType=VARCHAR},
      realForwardId = #{realforwardid,jdbcType=BIGINT},
      thirdMessageId = #{thirdmessageid,jdbcType=VARCHAR},
      appId = #{appid,jdbcType=BIGINT},
      jdata = #{jdata,jdbcType=CHAR},
      blockd = #{blockd,jdbcType=BIT},
      isDelete = #{isdelete,jdbcType=TINYINT},
      device = #{device,jdbcType=CHAR},
      ipAddress = #{ipaddress,jdbcType=VARCHAR},
      forwardCount = #{forwardcount,jdbcType=INTEGER},
      commentCount = #{commentcount,jdbcType=INTEGER},
      readCount = #{readcount,jdbcType=INTEGER},
      praiseCount = #{praisecount,jdbcType=INTEGER},
      createTime = #{createtime,jdbcType=TIMESTAMP},
      updateTime = #{updatetime,jdbcType=TIMESTAMP}
    where messageId = #{messageid,jdbcType=BIGINT}
  </update>
  <update id="praise" parameterType="com.earthchen.spring.cloud.weather.vo2.Message">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update message
    set
    praiseCount = #{praisecount,jdbcType=INTEGER}
    where messageId = #{messageid,jdbcType=BIGINT}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select messageId, uid, userType, messageType, forwardMessageId, realForwardId, thirdMessageId,
    appId, jdata, blockd, isDelete, device, ipAddress, forwardCount, commentCount, readCount,
    praiseCount, createTime, updateTime
    from message
    where messageId = #{messageid,jdbcType=BIGINT}
  </select>
  <select id="selectByCityId" parameterType="java.lang.String" resultMap="DetailResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select m.messageId m_messageId, m.userType m_userType, m.messageType m_messageType, m.forwardMessageId m_forwardMessageId,
    m.realForwardId m_realForwardId, m.thirdMessageId m_thirdMessageId,m.appId m_appId, m.jdata m_jdata, m.blockd m_blockd,
    m.isDelete m_isDelete, m.device m_device, m.ipAddress m_ipAddress, m.forwardCount m_forwardCount,
    m.commentCount m_commentCount, m.readCount m_readCount,m.praiseCount m_praiseCount, m.createTime m_createTime,
    m.updateTime m_updateTime,u.id u_id, u.nickname u_nickname, u.mobileAreaId u_mobileAreaId, u.mobile u_mobile,
    u.sex u_sex, u.email u_email, u.jdata u_jdata, u.PIN u_PIN, u.createTime u_createTime, u.updateTime u_updateTime,u.type u_type
    from message m
    join user u on m.uid = u.id
    where thirdMessageId = #{cityid,jdbcType=BIGINT}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select messageId, uid, userType, messageType, forwardMessageId, realForwardId, thirdMessageId,
    appId, jdata, blockd, isDelete, device, ipAddress, forwardCount, commentCount, readCount,
    praiseCount, createTime, updateTime
    from message
  </select>

</mapper>
